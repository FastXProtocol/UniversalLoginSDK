{"id":"1ayW","dependencies":[{"name":"/Users/twy/Projects/Universal/universal-login-example/package.json","includedInParent":true,"mtime":1554092757000},{"name":"/Users/twy/Projects/Universal/universal-login-example/.babelrc","includedInParent":true,"mtime":1554092757000},{"name":"babel-runtime/helpers/classCallCheck","parent":"/Users/twy/Projects/Universal/universal-login-example/src/components/RequestsBadge.js","resolved":"/Users/twy/Projects/Universal/node_modules/babel-runtime/helpers/classCallCheck.js"},{"name":"babel-runtime/helpers/createClass","parent":"/Users/twy/Projects/Universal/universal-login-example/src/components/RequestsBadge.js","resolved":"/Users/twy/Projects/Universal/node_modules/babel-runtime/helpers/createClass.js"},{"name":"babel-runtime/helpers/possibleConstructorReturn","parent":"/Users/twy/Projects/Universal/universal-login-example/src/components/RequestsBadge.js","resolved":"/Users/twy/Projects/Universal/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"},{"name":"babel-runtime/helpers/inherits","parent":"/Users/twy/Projects/Universal/universal-login-example/src/components/RequestsBadge.js","resolved":"/Users/twy/Projects/Universal/node_modules/babel-runtime/helpers/inherits.js"},{"name":"react","loc":{"line":1,"column":31},"parent":"/Users/twy/Projects/Universal/universal-login-example/src/components/RequestsBadge.js","resolved":"/Users/twy/Projects/Universal/universal-login-example/node_modules/react/index.js"},{"name":"prop-types","loc":{"line":2,"column":22},"parent":"/Users/twy/Projects/Universal/universal-login-example/src/components/RequestsBadge.js","resolved":"/Users/twy/Projects/Universal/node_modules/prop-types/index.js"},{"name":"../services/NativeNotificationService","loc":{"line":3,"column":38},"parent":"/Users/twy/Projects/Universal/universal-login-example/src/components/RequestsBadge.js","resolved":"/Users/twy/Projects/Universal/universal-login-example/src/services/NativeNotificationService.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"babel-runtime/helpers/classCallCheck\"),t=f(e),i=require(\"babel-runtime/helpers/createClass\"),r=f(i),n=require(\"babel-runtime/helpers/possibleConstructorReturn\"),s=f(n),o=require(\"babel-runtime/helpers/inherits\"),a=f(o),u=require(\"react\"),c=f(u),l=require(\"prop-types\"),h=f(l),v=require(\"../services/NativeNotificationService\"),p=f(v);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function i(e){(0,t.default)(this,i);var r=(0,s.default)(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return r.walletContractService=r.props.services.walletContractService,r.authorisationService=r.props.services.authorisationService,r.state={requests:r.authorisationService.pendingAuthorisations.length},r.nativeNotificationService=new p.default,r}return(0,a.default)(i,e),(0,r.default)(i,[{key:\"componentDidMount\",value:function(){var e=this.walletContractService.walletContract.address;this.subscription=this.authorisationService.subscribe(e,this.onAuthorisationChanged.bind(this))}},{key:\"componentWillUnmount\",value:function(){this.subscription.remove()}},{key:\"onAuthorisationChanged\",value:function(e){this.setState({requests:e.length}),e.length>0&&this.nativeNotificationService.notifyLoginRequest(e[0].deviceInfo)}},{key:\"render\",value:function(){var e=this;return this.state.requests>0?c.default.createElement(\"button\",{onClick:function(){return e.props.setView(\"PendingAuthorizations\")},className:\"request-notification\"},this.state.requests):\"\"}}]),i}(u.Component);d.propTypes={setView:h.default.func,services:h.default.object},exports.default=d;","map":{"mappings":[{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":0}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":13}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":20}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":35}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":43}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":56}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":57}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":64}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":68}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":72}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":74}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":82}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":122}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":124}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":126}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":129}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":131}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":139}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":176}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":178}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":180}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":183}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":185}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":193}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":244}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":246}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":248}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":251}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":253}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":261}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":295}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":297}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":299}},{"source":"components/RequestsBadge.js","original":{"line":1,"column":0},"generated":{"line":1,"column":302}},{"source":"components/RequestsBadge.js","original":{"line":1,"column":0},"generated":{"line":1,"column":304}},{"source":"components/RequestsBadge.js","original":{"line":1,"column":0},"generated":{"line":1,"column":312}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":321}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":323}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":325}},{"source":"components/RequestsBadge.js","original":{"line":2,"column":0},"generated":{"line":1,"column":328}},{"source":"components/RequestsBadge.js","original":{"line":2,"column":0},"generated":{"line":1,"column":330}},{"source":"components/RequestsBadge.js","original":{"line":2,"column":0},"generated":{"line":1,"column":338}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":352}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":354}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":356}},{"source":"components/RequestsBadge.js","original":{"line":3,"column":0},"generated":{"line":1,"column":359}},{"source":"components/RequestsBadge.js","original":{"line":3,"column":0},"generated":{"line":1,"column":361}},{"source":"components/RequestsBadge.js","original":{"line":3,"column":0},"generated":{"line":1,"column":369}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":410}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":412}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":414}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":417}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":426}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":428}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":431}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":438}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":441}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":443}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":454}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":456}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":457}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":465}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":5,"column":6},"generated":{"line":1,"column":468}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":5,"column":6},"generated":{"line":1,"column":472}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":5,"column":6},"generated":{"line":1,"column":474}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":5,"column":6},"generated":{"line":1,"column":483}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":6,"column":14},"generated":{"line":1,"column":486}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":6,"column":14},"generated":{"line":1,"column":495}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":6,"column":14},"generated":{"line":1,"column":497}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":501}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":503}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":505}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":514}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":519}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":522}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":526}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":529}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":531}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":533}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":542}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":548}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":550}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":561}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":568}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":583}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":587}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":592}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":7,"column":10},"generated":{"line":1,"column":597}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":601}},{"source":"components/RequestsBadge.js","name":"walletContractService","original":{"line":8,"column":9},"generated":{"line":1,"column":608}},{"source":"components/RequestsBadge.js","name":"walletContractService","original":{"line":8,"column":9},"generated":{"line":1,"column":610}},{"source":"components/RequestsBadge.js","original":{"line":8,"column":33},"generated":{"line":1,"column":632}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":8,"column":38},"generated":{"line":1,"column":634}},{"source":"components/RequestsBadge.js","name":"services","original":{"line":8,"column":44},"generated":{"line":1,"column":640}},{"source":"components/RequestsBadge.js","name":"walletContractService","original":{"line":8,"column":53},"generated":{"line":1,"column":649}},{"source":"components/RequestsBadge.js","name":"authorisationService","original":{"line":9,"column":9},"generated":{"line":1,"column":671}},{"source":"components/RequestsBadge.js","name":"authorisationService","original":{"line":9,"column":9},"generated":{"line":1,"column":673}},{"source":"components/RequestsBadge.js","original":{"line":9,"column":32},"generated":{"line":1,"column":694}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":9,"column":37},"generated":{"line":1,"column":696}},{"source":"components/RequestsBadge.js","name":"services","original":{"line":9,"column":43},"generated":{"line":1,"column":702}},{"source":"components/RequestsBadge.js","name":"authorisationService","original":{"line":9,"column":52},"generated":{"line":1,"column":711}},{"source":"components/RequestsBadge.js","name":"state","original":{"line":10,"column":9},"generated":{"line":1,"column":732}},{"source":"components/RequestsBadge.js","name":"state","original":{"line":10,"column":9},"generated":{"line":1,"column":734}},{"source":"components/RequestsBadge.js","original":{"line":10,"column":17},"generated":{"line":1,"column":740}},{"source":"components/RequestsBadge.js","original":{"line":11,"column":16},"generated":{"line":1,"column":741}},{"source":"components/RequestsBadge.js","original":{"line":11,"column":16},"generated":{"line":1,"column":750}},{"source":"components/RequestsBadge.js","name":"authorisationService","original":{"line":11,"column":21},"generated":{"line":1,"column":752}},{"source":"components/RequestsBadge.js","name":"pendingAuthorisations","original":{"line":11,"column":42},"generated":{"line":1,"column":773}},{"source":"components/RequestsBadge.js","name":"length","original":{"line":11,"column":64},"generated":{"line":1,"column":795}},{"source":"components/RequestsBadge.js","name":"nativeNotificationService","original":{"line":13,"column":9},"generated":{"line":1,"column":803}},{"source":"components/RequestsBadge.js","name":"nativeNotificationService","original":{"line":13,"column":9},"generated":{"line":1,"column":805}},{"source":"components/RequestsBadge.js","original":{"line":13,"column":37},"generated":{"line":1,"column":831}},{"source":"components/RequestsBadge.js","name":"NativeNotificationService","original":{"line":13,"column":41},"generated":{"line":1,"column":835}},{"source":"components/RequestsBadge.js","original":{"line":13,"column":37},"generated":{"line":1,"column":837}},{"source":"components/RequestsBadge.js","original":{"line":6,"column":21},"generated":{"line":1,"column":845}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":847}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":854}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":856}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":858}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":867}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":869}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":873}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":875}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":877}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":886}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":888}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":889}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":890}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":894}},{"source":"components/RequestsBadge.js","original":{"line":16,"column":22},"generated":{"line":1,"column":914}},{"source":"components/RequestsBadge.js","original":{"line":16,"column":22},"generated":{"line":1,"column":920}},{"source":"components/RequestsBadge.js","name":"address","original":{"line":17,"column":11},"generated":{"line":1,"column":931}},{"source":"components/RequestsBadge.js","name":"address","original":{"line":17,"column":11},"generated":{"line":1,"column":935}},{"source":"components/RequestsBadge.js","original":{"line":17,"column":22},"generated":{"line":1,"column":937}},{"source":"components/RequestsBadge.js","name":"walletContractService","original":{"line":17,"column":27},"generated":{"line":1,"column":942}},{"source":"components/RequestsBadge.js","name":"walletContract","original":{"line":17,"column":49},"generated":{"line":1,"column":964}},{"source":"components/RequestsBadge.js","name":"address","original":{"line":17,"column":11},"generated":{"line":1,"column":979}},{"source":"components/RequestsBadge.js","name":"subscription","original":{"line":18,"column":9},"generated":{"line":1,"column":987}},{"source":"components/RequestsBadge.js","name":"subscription","original":{"line":18,"column":9},"generated":{"line":1,"column":992}},{"source":"components/RequestsBadge.js","original":{"line":18,"column":24},"generated":{"line":1,"column":1005}},{"source":"components/RequestsBadge.js","name":"authorisationService","original":{"line":18,"column":29},"generated":{"line":1,"column":1010}},{"source":"components/RequestsBadge.js","name":"subscribe","original":{"line":18,"column":50},"generated":{"line":1,"column":1031}},{"source":"components/RequestsBadge.js","name":"address","original":{"line":19,"column":6},"generated":{"line":1,"column":1041}},{"source":"components/RequestsBadge.js","original":{"line":20,"column":6},"generated":{"line":1,"column":1043}},{"source":"components/RequestsBadge.js","name":"onAuthorisationChanged","original":{"line":20,"column":11},"generated":{"line":1,"column":1048}},{"source":"components/RequestsBadge.js","name":"bind","original":{"line":20,"column":34},"generated":{"line":1,"column":1071}},{"source":"components/RequestsBadge.js","original":{"line":20,"column":39},"generated":{"line":1,"column":1076}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1085}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1086}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1090}},{"source":"components/RequestsBadge.js","original":{"line":24,"column":25},"generated":{"line":1,"column":1113}},{"source":"components/RequestsBadge.js","original":{"line":24,"column":25},"generated":{"line":1,"column":1119}},{"source":"components/RequestsBadge.js","name":"subscription","original":{"line":25,"column":9},"generated":{"line":1,"column":1130}},{"source":"components/RequestsBadge.js","name":"subscription","original":{"line":25,"column":9},"generated":{"line":1,"column":1135}},{"source":"components/RequestsBadge.js","name":"remove","original":{"line":25,"column":22},"generated":{"line":1,"column":1148}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1159}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1160}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1164}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":28,"column":25},"generated":{"line":1,"column":1189}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":28,"column":25},"generated":{"line":1,"column":1195}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":28,"column":25},"generated":{"line":1,"column":1204}},{"source":"components/RequestsBadge.js","name":"setState","original":{"line":29,"column":9},"generated":{"line":1,"column":1207}},{"source":"components/RequestsBadge.js","name":"setState","original":{"line":29,"column":9},"generated":{"line":1,"column":1212}},{"source":"components/RequestsBadge.js","original":{"line":29,"column":18},"generated":{"line":1,"column":1221}},{"source":"components/RequestsBadge.js","name":"requests","original":{"line":29,"column":19},"generated":{"line":1,"column":1222}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":29,"column":29},"generated":{"line":1,"column":1231}},{"source":"components/RequestsBadge.js","name":"length","original":{"line":29,"column":44},"generated":{"line":1,"column":1233}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":30,"column":8},"generated":{"line":1,"column":1242}},{"source":"components/RequestsBadge.js","name":"length","original":{"line":30,"column":23},"generated":{"line":1,"column":1244}},{"source":"components/RequestsBadge.js","original":{"line":30,"column":32},"generated":{"line":1,"column":1251}},{"source":"components/RequestsBadge.js","name":"nativeNotificationService","original":{"line":31,"column":11},"generated":{"line":1,"column":1254}},{"source":"components/RequestsBadge.js","name":"nativeNotificationService","original":{"line":31,"column":11},"generated":{"line":1,"column":1259}},{"source":"components/RequestsBadge.js","name":"notifyLoginRequest","original":{"line":31,"column":37},"generated":{"line":1,"column":1285}},{"source":"components/RequestsBadge.js","name":"authorisations","original":{"line":31,"column":56},"generated":{"line":1,"column":1304}},{"source":"components/RequestsBadge.js","original":{"line":31,"column":71},"generated":{"line":1,"column":1306}},{"source":"components/RequestsBadge.js","name":"deviceInfo","original":{"line":31,"column":74},"generated":{"line":1,"column":1309}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1323}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1324}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1328}},{"source":"components/RequestsBadge.js","original":{"line":35,"column":11},"generated":{"line":1,"column":1337}},{"source":"components/RequestsBadge.js","original":{"line":35,"column":11},"generated":{"line":1,"column":1343}},{"source":"components/RequestsBadge.js","original":{"line":35,"column":11},"generated":{"line":1,"column":1354}},{"source":"components/RequestsBadge.js","original":{"line":35,"column":11},"generated":{"line":1,"column":1358}},{"source":"components/RequestsBadge.js","original":{"line":35,"column":11},"generated":{"line":1,"column":1360}},{"source":"components/RequestsBadge.js","original":{"line":36,"column":11},"generated":{"line":1,"column":1365}},{"source":"components/RequestsBadge.js","original":{"line":36,"column":11},"generated":{"line":1,"column":1372}},{"source":"components/RequestsBadge.js","name":"state","original":{"line":36,"column":16},"generated":{"line":1,"column":1377}},{"source":"components/RequestsBadge.js","name":"requests","original":{"line":36,"column":22},"generated":{"line":1,"column":1383}},{"source":"components/RequestsBadge.js","original":{"line":36,"column":33},"generated":{"line":1,"column":1392}},{"source":"components/RequestsBadge.js","original":{"line":37,"column":6},"generated":{"line":1,"column":1394}},{"source":"components/RequestsBadge.js","original":{"line":37,"column":6},"generated":{"line":1,"column":1396}},{"source":"components/RequestsBadge.js","original":{"line":37,"column":6},"generated":{"line":1,"column":1404}},{"source":"components/RequestsBadge.js","original":{"line":37,"column":6},"generated":{"line":1,"column":1418}},{"source":"components/RequestsBadge.js","original":{"line":37,"column":6},"generated":{"line":1,"column":1427}},{"source":"components/RequestsBadge.js","original":{"line":38,"column":17},"generated":{"line":1,"column":1428}},{"source":"components/RequestsBadge.js","original":{"line":38,"column":17},"generated":{"line":1,"column":1436}},{"source":"components/RequestsBadge.js","original":{"line":38,"column":23},"generated":{"line":1,"column":1447}},{"source":"components/RequestsBadge.js","original":{"line":38,"column":23},"generated":{"line":1,"column":1454}},{"source":"components/RequestsBadge.js","name":"props","original":{"line":38,"column":28},"generated":{"line":1,"column":1456}},{"source":"components/RequestsBadge.js","name":"setView","original":{"line":38,"column":34},"generated":{"line":1,"column":1462}},{"source":"components/RequestsBadge.js","original":{"line":38,"column":42},"generated":{"line":1,"column":1470}},{"source":"components/RequestsBadge.js","original":{"line":39,"column":18},"generated":{"line":1,"column":1496}},{"source":"components/RequestsBadge.js","original":{"line":39,"column":18},"generated":{"line":1,"column":1506}},{"source":"components/RequestsBadge.js","name":"state","original":{"line":41,"column":14},"generated":{"line":1,"column":1530}},{"source":"components/RequestsBadge.js","name":"state","original":{"line":41,"column":14},"generated":{"line":1,"column":1535}},{"source":"components/RequestsBadge.js","name":"requests","original":{"line":41,"column":20},"generated":{"line":1,"column":1541}},{"source":"components/RequestsBadge.js","original":{"line":44,"column":6},"generated":{"line":1,"column":1551}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1558}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":5,"column":6},"generated":{"line":1,"column":1560}},{"source":"components/RequestsBadge.js","name":"Component","original":{"line":5,"column":28},"generated":{"line":1,"column":1561}},{"source":"components/RequestsBadge.js","name":"Component","original":{"line":5,"column":28},"generated":{"line":1,"column":1563}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":49,"column":0},"generated":{"line":1,"column":1574}},{"source":"components/RequestsBadge.js","name":"propTypes","original":{"line":49,"column":14},"generated":{"line":1,"column":1576}},{"source":"components/RequestsBadge.js","original":{"line":49,"column":26},"generated":{"line":1,"column":1586}},{"source":"components/RequestsBadge.js","name":"PropTypes","original":{"line":50,"column":11},"generated":{"line":1,"column":1587}},{"source":"components/RequestsBadge.js","name":"PropTypes","original":{"line":50,"column":11},"generated":{"line":1,"column":1595}},{"source":"components/RequestsBadge.js","name":"func","original":{"line":50,"column":21},"generated":{"line":1,"column":1597}},{"source":"components/RequestsBadge.js","name":"func","original":{"line":50,"column":21},"generated":{"line":1,"column":1605}},{"source":"components/RequestsBadge.js","name":"PropTypes","original":{"line":51,"column":12},"generated":{"line":1,"column":1610}},{"source":"components/RequestsBadge.js","name":"PropTypes","original":{"line":51,"column":12},"generated":{"line":1,"column":1619}},{"source":"components/RequestsBadge.js","name":"object","original":{"line":51,"column":22},"generated":{"line":1,"column":1621}},{"source":"components/RequestsBadge.js","name":"object","original":{"line":51,"column":22},"generated":{"line":1,"column":1629}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1637}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1645}},{"source":"components/RequestsBadge.js","name":"RequestsBadge","original":{"line":54,"column":15},"generated":{"line":1,"column":1653}}],"sources":{"components/RequestsBadge.js":"import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport NativeNotificationService from '../services/NativeNotificationService';\n\nclass RequestsBadge extends Component {\n  constructor(props) {\n    super(props);\n    this.walletContractService = this.props.services.walletContractService;\n    this.authorisationService = this.props.services.authorisationService;\n    this.state = {\n      requests: this.authorisationService.pendingAuthorisations.length\n    };\n    this.nativeNotificationService = new NativeNotificationService();\n  }\n\n  componentDidMount() {\n    const {address} = this.walletContractService.walletContract;\n    this.subscription = this.authorisationService.subscribe(\n      address,\n      this.onAuthorisationChanged.bind(this)\n    );\n  }\n\n  componentWillUnmount() {\n    this.subscription.remove();\n  }\n\n  onAuthorisationChanged(authorisations) {\n    this.setState({requests: authorisations.length});\n    if (authorisations.length > 0) {\n      this.nativeNotificationService.notifyLoginRequest(authorisations[0].deviceInfo);\n    }\n  }\n\n  render() {\n    return this.state.requests > 0 ? (\n      <button\n        onClick={() => this.props.setView('PendingAuthorizations')}\n        className=\"request-notification\"\n      >\n        {this.state.requests}\n      </button>\n    ) : (\n      ''\n    );\n  }\n}\n\nRequestsBadge.propTypes = {\n  setView: PropTypes.func,\n  services: PropTypes.object\n};\n\nexport default RequestsBadge;\n"},"lineCount":null}},"hash":"66f5d865306a08a053a6e4d545f2393c","cacheData":{"env":{}}}